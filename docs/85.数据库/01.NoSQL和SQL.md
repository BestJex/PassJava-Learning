# 大厂一面：为什么要用 NoSQL

本文来自我的一次真实面试经历。

## MongoDB

> 1.面试官：看你的简历上写了 MongoDB，说下 MongoDB 和 MySQL 的区别吧。

其实对于这个问题，我事先有准备，简历上写了 MongoDB，面试官肯定会问 MongoDB 和 MySQL 的区别。

MongoDB 是非关系型的数据库（NoSQL)，属于文档型数据库，文档数据库就是为了解决关系数据库带来的问题。最大的特点是 no-schema，可以存储和读取任意的数据。

存储的数据格式就是 JSON（或者 BSON）。JSON 格式我们都比较熟悉，比如 Rest API 请求返回的 Response 就是 JSON 格式的。JSON 格式的数据和 XML 个格式的区别是更简单，没有那么多标签来定义字段名。也就是说 JSON 是自描述的。另外 JSON 格式存进 MongoDB 中后，即使读取一个 JSON 中不存在的字段也不会导致 SQL 那样的语法错误。

由于文档数据库具有 no-schema 特性，用起来有几个明显的好处：

- **新增的字段不会出错**。比如用户表增加一个`昵称`的字段，不需要像关系型数据那样执行更新表结构的语句。我们直接查询这条文档出来就可以看到新增的字段了。
- **查询历史数据不会出错**。上面提到新增了一个昵称字段，但是历史数据中是没有这个字段，如果查询历史数据，则返回的数据中不会有这个字段，虽然查询不会报错，但是取值时，会返回 null。如果业务代码中用到了昵称字段，则需要做兼容性处理。
- **轻松存储复杂数据**。因为是用 JSON 存储，而 JSON 又可以表示复杂的数据结构，比如字段可以存数组，字段可以嵌套字段，而且可以存很多字段。换做 MySQL，则需要多设计几张表来存。
- 



<插入 nosql 的历史>



